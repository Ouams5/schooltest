<main>
  <div class="topbar">Clubs Page</div>
  <div class="content" style="display:grid; grid-template-columns:1fr 1fr; gap:20px;">
    <div id="clubs"></div>
    <div class="admin-only">
      <h3 style="grid-column:1/3;">Add Club</h3>
      <input type="text" id="clubName" placeholder="Club name">
      <textarea id="clubDesc" placeholder="Description" style="width:100%; height:100px; margin:10px 0;"></textarea>
      <button onclick="addClub()">Add Club</button>
    </div>
  </div>
</main>

<script>
  function loadClubs() {
    const clubs = JSON.parse(localStorage.getItem('clubs') || '[]');
    document.getElementById('clubs').innerHTML = clubs.map(c => `
      <div class="item">
        <h3>${c.name}</h3>
        <p>${c.desc}</p>
      </div>
    `).join('');
  }
  function addClub() {
    if (!currentUser.isAdmin) return;
    const name = document.getElementById('clubName').value;
    const desc = document.getElementById('clubDesc').value;
    if (!name || !desc) return alert('Fill all');
    let clubs = JSON.parse(localStorage.getItem('clubs') || '[]');
    clubs.push({name, desc});
    localStorage.setItem('clubs', JSON.stringify(clubs));
    loadClubs();
  }
  loadClubs();
</script>
